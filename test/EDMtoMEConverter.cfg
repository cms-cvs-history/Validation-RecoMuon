process EDMtoMEConvert =
{
    untracked PSet maxEvents = {untracked int32 input = -1}
    
    ## setup useful services
    ##
    include "FWCore/MessageService/data/MessageLogger.cfi"
    
    ## Read in EDM file produced with MEtoEDMConverter info
    source = PoolSource
    {
	untracked vstring fileNames =
	{
	    "file:validationEDM.root"
	    //"file:validationEDM.2.root"
	}
    }

    
    ##module EDMtoMEConverter
    include "DQMServices/Components/data/EDMtoMEConverter.cff"
    replace DQMStore.referenceFileName = ""

    //for standard running
    include "DQMServices/Components/data/DQMEnvironment.cfi"
    replace dqmSaver.convention = "RelVal"
    replace dqmSaver.workflow = "/GlobalValidation/Test/RECO"
    //replace dqmSaver.fileName = "RecoMuonV.root"
    //replace dqmSaver.saveAtRunEnd = false
    //replace dqmSaver.saveAtJobEnd = true

    //for simulation validation running
    //replace dqmSaver.saveAsValidation = true 
    //replace dqmSaver.dataset = "ZMM" //this needs to be
                                             //reset to a value 
                                             //that is indicative 
                                             //of the dataset
                                             //source   

    module postProcessor = PostProcessor {
        vstring commands = {
	    "RecoMuonV/MultiTrack R v_Pt_Resolution '#sigma(pt) vs #eta' 'ptres_vs_eta'",
    "RecoMuonV/MultiTrack E v_Efficiency 'Efficiency Plot' 'num_assoc(simToReco)_eta' 'num_simul_eta'"
    
    }
    untracked string subDir = "RecoMuonV/MultiTrack"
        ## Leave outputFileName to be Null string 
        ## if don't want to save histograms manually
        ## untracked string outputFileName = "" 
        untracked string outputFileName = "Result.root"
    }

    ## execute path
    ##
    //path p1 = { EDMtoMEConverter, postProcessor } 
    path p1 = { EDMtoMEConverter, postProcessor, dqmSaver }
}
