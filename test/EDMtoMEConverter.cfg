process EDMtoMEConvert =
{
    untracked PSet maxEvents = {untracked int32 input = 1}
    
    ## setup useful services
    ##
    include "FWCore/MessageService/data/MessageLogger.cfi"
    
    ## Read in EDM file produced with MEtoEDMConverter info
    source = PoolSource
    {
	untracked vstring fileNames =
	{
	    "file:MEtoEDMConverter.root"
	}
    }
    replace maxEvents.input = -1
    
    ##module EDMtoMEConverter
    include "DQMServices/Components/data/EDMtoMEConverter.cff"
    replace DQMStore.referenceFileName = ""

    //for standard running
    include "DQMServices/Components/data/DQMEnvironment.cfi"
    //replace dqmSaver.workflow = ""
    //replace dqmSaver.fileName = "RecoMuonV.root"
    //replace dqmSaver.saveAtRunEnd = false
    //replace dqmSaver.saveAtJobEnd = true

    //for simulation validation running
    //replace dqmSaver.saveAsValidation = true 
    //replace dqmSaver.dataset = "ZMM" //this needs to be
                                             //reset to a value 
                                             //that is indicative 
                                             //of the dataset
                                             //source   

    module postProcessor = PostProcessor {
        vstring commands = {
            "E Efficiency 'Efficiency Plot' 'RecoMuonV/Track/standAloneMuons_AssociatorByPosition/num_assoc(simToReco)_eta' 'RecoMuonV/Track/standAloneMuons_AssociatorByHits/num_simul_eta",
            "R Eta_Resolution '\sigma(\eta) vs \eta' 'RecoMuonV/Track/standAloneMuons_AssociatorByPosition/etares_vs_eta'"
        }
        untracked string subDir = "RecoMuonV/Track"
        ## Leave outputFileName to be Null string 
        ## if don't want to save histograms manually
        ## untracked string outputFileName = "" 
        untracked string outputFileName = "Result.root"
    }

    ## execute path
    ##
    path p1 = { EDMtoMEConverter, postProcessor } 
    ##path p1 = { EDMtoMEConverter, postProcessor, dqmSaver }
}
